---
title: 通过 ZeroTier 连接内部网络
date: 2023-07-21T09:52:38.000Z
abbrlink: b3b6660f
description: 在路由器端启用 ZeroTier 功能，通过 ZeroTier 提供的服务为路由器以及路由器连接的设备组成可以在外部访问的局域网。
tags:
  - 路由器
---

想要在外面随时可以查看路由器和内部网络，就需要启用软路由的 ZeroTier 功能，经过配置后就可以在任何安装了 ZeroTier 的设备上直接访问内网。

- 路由器 接口 > 网络 > 添加新的接口 > 名称：_任意_ / 协议：_DHCP 客户端_ / 设备：_选择 zt 开头_ > 创建接口
- 路由器 常规设置 > 区域 > 添加 > 名称：_任意_ / 入站、出站、转发：_接受_ / 允许转发到目标区域：_wan（wan wan6）_ > 保存
- 登录 ZeroTier 网站[^1]，创建 Network，获取 NetworkId
  [^1]: [ZeroTier 网站](https://my.zerotier.com/network)
- 路由器 ZeroTier > 基本设置 > 填入 NetworkId，并且勾选自动客户端 NAT，启用 ZeroTier。
- ZeroTier 网站 Members 确认路由器信息并授予权限，ZeroTier 会自动分配一个 IPv4 地址。

> [!TIP]
> 软路由 ZeroTier > 接口信息，检查是否有上面生成的 IPv4 地址，如果存在则证明设置成功。

在任何安装 ZeroTier 的设备上通过 NetworkId 加入该网络，即形成了一个 ZeroTier 打造的局域网，彼此即可通过 ZeroTier 分配的 IPv4 地址实现访问。

> [!TIP]
> 如果想要保持软路由的地址一致，在 ZeroTier 网站界面 Managed Routes 添加一个跳转，Destination 为目标软路由地址，via 为 ZeroTier 为软路由设备自动分配的地址。
> 例如，路由器的地址为 192.168.1.1，ZeroTier 自动分配的地址为 10.1.1.1，在 Managed Routes 中添加一条跳转，Destination 为 192.168.1.0/24，via 为 10.1.1.1，这样所有连接到 ZeroTier 网络的设备就可以访问路由器 (192.168.1.1) 以及连接路由器的内部网络了 (192.168.1.\*)。
